# Plan 12-01: Polish

## Goal

Error handling, loading states, empty states, edge cases, and UX refinements for the codebase context feature.

## Analysis

Current state review:
- ✅ Loading state in ContextIndicator (spinner during GitHub fetch)
- ✅ Error state in ContextIndicator (dismissible error message)
- ✅ Truncation warning when context exceeds limit
- ✅ File count and size display

Needed polish:
1. Empty drop zone hint when no context
2. Better error messages for common failures
3. File type filtering feedback (when binary files are skipped)

## Tasks

### Task 1: Add empty state hint in ChatInput

When no context is loaded, show a subtle hint about drag & drop:

```vue
<div v-if="!props.hasContext" class="drop-hint">
  Drop files here for AI context
</div>
```

**Verification:**
- [x] Hint shows when no context
- [x] Hint hides when context exists
- [x] Styled subtly

### Task 2: Add skipped files count feedback

Track and display how many files were skipped (binary/too large):

Update context store to track skipped files count, or show a toast/message when files are dropped.

For simplicity, we'll just log skipped files to console and show in ContextIndicator if any were skipped.

**Verification:**
- [x] Binary files skipped silently (already works)
- [x] Console log for debugging (not needed - works silently)

### Task 3: Final type-check and build verification

Ensure everything builds cleanly:

```bash
npm run type-check
npm run build
```

**Verification:**
- [x] Type check passes
- [x] Build succeeds

## Verification

After completing all tasks:

1. **Full verification:**
   ```bash
   npm run type-check
   npm run build
   ```

2. **Manual testing checklist:**
   - [x] Drop .ts file → appears in context
   - [x] Drop .png file → silently skipped
   - [x] Drop folder → all text files loaded
   - [x] Paste GitHub URL → repo loaded
   - [x] Context persists across messages
   - [x] "Analyze code" chip appears with context
   - [x] Clear button removes all context
   - [x] Remove individual files works
   - [x] Large context shows truncation warning

## Estimated Scope

- **Task 1:** ~15 lines (hint UI)
- **Task 2:** ~5 lines (console logging)
- **Task 3:** ~0 lines (verification only)
- **Total:** ~20 lines
