# Plan 05-01: Context Display

## Goal

Show loaded files in chat UI with file count, size summary, and individual file removal controls. This gives users visibility into what context is loaded and ability to manage it.

## Why This Approach

Add a context indicator component between the chat header and messages:
- Shows file count and total size
- Lists individual files with removal buttons
- Clear all button
- Collapsible to save space

Following existing patterns:
- Vue component in `src/components/chat/`
- Use context store getters
- CSS variables for theming
- Scoped styles

## Tasks

### Task 1: Create ContextIndicator component

Create `src/components/chat/ContextIndicator.vue`:

```vue
<script setup lang="ts">
import { computed } from 'vue'
import { useContextStore } from '@/stores/context'

const contextStore = useContextStore()

const totalSizeFormatted = computed(() => {
  const bytes = contextStore.totalSize
  if (bytes < 1024) return `${bytes} B`
  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`
  return `${(bytes / 1024 / 1024).toFixed(1)} MB`
})

function handleRemoveFile(fileId: string) {
  contextStore.removeFile(fileId)
}

function handleClearAll() {
  contextStore.clearFiles()
}
</script>
```

**UI elements:**
- Header: "Context: {fileCount} files ({totalSize})"
- File list with path and remove button
- Clear All button
- Collapse/expand toggle

**Verification:**
- [x] Component created at `src/components/chat/ContextIndicator.vue`
- [x] Shows file count and size
- [x] Lists individual files
- [x] Remove and Clear buttons work

### Task 2: Add ContextIndicator to ChatPanel

Import and add ContextIndicator between header and messages:

```vue
<template>
  <div class="chat-panel">
    <div class="chat-header">...</div>

    <ContextIndicator v-if="contextStore.hasContext" />

    <div ref="messagesContainer" class="messages-container">...</div>
    ...
  </div>
</template>
```

**Verification:**
- [x] ContextIndicator shows when files are loaded
- [x] Hidden when no files in context
- [x] No TypeScript errors

## Verification

After completing both tasks:

1. **Type check passes:**
   ```bash
   npm run type-check
   ```

2. **Manual testing:**
   - Drop some files
   - Verify context indicator appears
   - Click remove on individual file
   - Click Clear All
   - Verify indicator hides when empty

## Estimated Scope

- **Task 1:** ~100 lines (component with styles)
- **Task 2:** ~10 lines (integration)
- **Total:** ~110 lines
